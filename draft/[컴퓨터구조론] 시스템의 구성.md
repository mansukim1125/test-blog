컴퓨터의 주요 구성요소인 **CPU와 기억장치 및 I/O장치들이 어떻게 서로 접속되고 상호 작용**하는지 알아보자.

## 시스템 버스

CPU와 시스템 내의 다른 요소들 사이에 정보를 교환하는 통로.

### 주소 버스

- **단방향성**(unidirectional, CPU에서 기억장치 / I/O장치로)
- CPU가 발생하는 **주소 정보를 외부로 전송**하는 신호 선들의 집합.
- 주소 선의 수는 CPU와 접속될 수 있는 **최대 기억장치 용량을 결정**.
- CPU가 발생하는 **주소 비트의 수**를 **주소 버스의 폭(width)**이라 함.
- 예로, 폭이 16비트이면 최대 ![Equation](https://math.now.sh?from=2%5E%7B16%7D%20%3D%2065536&color=black)개 기억장소의 주소 지정 가능.

### 데이터 버스

- **양방향성**(bidirectional), 읽기와 쓰기 동작을 모두 지원.
- CPU가 **기억장치 / I/O장치 간 데이터 전송**하기 위한 신호 선들의 집합.
- 데이터 선의 수는 **CPU가 한 번에 전송할 수 있는 비트 수**를 결정.
- 예로, **데이터 버스가 32비트**라면 CPU와 기억장치 간 **데이터 전송은 한 번에 32비트**씩 가능.

### 제어 버스

- **양방향성**(bidirectional), 읽기와 쓰기 동작을 모두 지원.
- CPU가 시스템 내의 각종 요소들의 동작을 제어하기 위한 신호 선들의 집합.
  - 기억장치 읽기/쓰기 신호
  - I/O 읽기/쓰기 신호
  - 인터럽트 신호
  - 버스 제어 신호

## CPU와 기억장치의 접속

필요한 버스 / 제어 신호: 주소 버스, 데이터 버스, 제어 신호(기억장치 읽기, 쓰기)

### 기억장치 읽기 / 쓰기

#### 기억장치 쓰기 동작

동시에

1. 주소 버스: CPU가 **데이터를 저장할 기억 장소의 주소**
2. 데이터 버스: CPU가 **저장할 데이터**
3. 제어 버스: 쓰기 신호

활성화.

(기억장치 쓰기 동작 흐름도)

#### 기억장치 쓰기 시간

CPU가 **주소와 데이터를 보낸 순간부터 저장이 완료될 때까지**의 시간.

#### 기억장치 읽기 동작

동시에

1. 주소 버스: CPU가 읽고자 하는 기억장치 주소
2. 제어 버스: 읽기 신호

활성화.

(기억장치 읽기 동작 흐름도)

**일정 지연 시간이 경과한 후**, 기억장치로부터 읽혀진 데이터가 데이터 버스에 실리고 CPU는 그 데이터를 **버스 인터페이스 회로**를 통해 읽음.

#### 기억장치 읽기 시간

CPU가 **주소를 발생한 시간부터 기억장치의 데이터가 CPU에 도착할 때까지**의 시간.

## CPU와 I/O장치의 접속

필요한 버스 / 제어 신호: 주소 버스, 데이터 버스, 제어 신호(I/O 읽기, 쓰기)

접속 경로: CPU <-> 시스템 버스 <-> I/O장치 제어기 <-> I/O장치

### I/O 장치 제어기

CPU에서 I/O명령을 받아 해당 I/O장치를 제어하고, 데이터를 이동함으로써 명령을 수행하는 전자회로 장치.

#### 상태 레지스터

- **I/O장치의 현재 상태**를 나타내는 비트 저장.
- 준비 상태 비트, 데이터 전송 확인 비트 등.

#### 데이터 레지스터

- **CPU와 I/O장치 간에 이동되는 데이터를 일시적으로 저장**

#### 예시

##### 키보드의 데이터 입력 과정

키보드 제어기: 키보드의 어떤 키를 누르면 그 키의 ASCII코드가 키보드 제어기의 **데이터 레지스터에 저장**. 동시에 **상태 레지스터의 In_RDY가 1로 세트**.

CPU:

1. 키보드 제어기의 **상태 레지스터(In_RDY)가 1로 세트되었는지 검사**.

2. if not, 1를 반복.

   else 데이터 레지스터의 내용 읽음.

##### 프린터의 데이터 출력 과정

CPU:

1. 프린터 제어기의 **상태 레지스터(Out_RDY)가 1로 세트되었는지 검사**.

2. if not, 1를 반복.

   else 출력할 데이터를 **프린터 제어기의 데이터 레지스터에 저장**.

프린터 제어기: **데이터 레지스터의 내용을 프린터로 보냄**. 프린터의 **하드웨어를 제어하면서 인쇄 동작 수행**.

## CPU와 보조저장장치의 접속

각 제어기를 통해 키보드나 프린터와 **유사한 방법으로 접속**한다. 단 **차이점은 데이터 전송 단위**에 있다.

### 차이점

키보드: **바이트 단위** 전송.

보조저장장치: **블록 단위**로 전송. **제어기 내에 한 블록 이상을 임시 저장할 수 있는** 데이터 기억장치(버퍼) 필요.

(교재 p.27에서 내용 보충. 1.3.3 전체 시스템의 구성 정리하기.)

## 전체 시스템의 구성

(교재 p.28의 그림 1-10 참조)

### 컴퓨터시스템의 기능

- 프로그램 실행: CPU가 **주기억장치로부터 프로그램 코드를 읽어서 실행**.
- 데이터 저장: 프로그램 **실행 결과를 주기억장치에 저장**.
- 데이터 이동: 디스크나 SSD에 저장된 **프로그램과 데이터 블록을 주기억장치로 이동**.
- 데이터 입력 / 출력: 사용자가 **입력한 데이터를 읽어 들인다**. / **CPU가 처리한 값이나 기억장치의 내용을 출력한다**.
- 제어: 프로그램이 **순서대로 실행되도록** 혹은 필요에 따라 **실행 순서를 변경하도록** 조정하며, 각종 **제어 신호를 발생**한다.